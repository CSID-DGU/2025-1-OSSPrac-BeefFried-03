<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>êµìˆ˜ë‹˜ ì „ìš© í˜ì´ì§€</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />
    <style>
      .section {
        max-width: 800px;
        margin: 2rem auto;
        padding: 1rem;
        text-align: center;
        line-height: 1.8;
      }
      .professor-img {
        width: 150px;
        border-radius: 50%;
        margin-bottom: 1rem;
      }
      .result-box {
        margin-top: 1.5rem;
        font-weight: bold;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div class="team-banner">
      <h1 class="team-name">
        ì´ê¸¸ì„­ êµìˆ˜ë‹˜ <span class="eng">(Open Source Professor)</span>
      </h1>
      <p class="tagline">"ì˜¤ëŠ˜ë„ í•™ìƒë“¤ê³¼ í•¨ê»˜"</p>
    </div>

    <main>
      <!-- êµ¬ì—­ 1: êµìˆ˜ë‹˜ ì†Œê°œ -->
      <section class="section">
        <h2>ğŸ‘¨â€ğŸ« êµìˆ˜ë‹˜ ì†Œê°œ</h2>

        <!-- êµìˆ˜ë‹˜ ì‚¬ì§„ -->
        <img
          src="{{ url_for('static', filename='img/professor.png') }}"
          alt="êµìˆ˜ë‹˜ ì´ë¯¸ì§€"
          style="
            width: 150px;
            border-radius: 12px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
            margin-bottom: 1rem;
          "
        />
        <p><strong>ì´ë¦„:</strong> ì´ê¸¸ì„­</p>
        <p><strong>ë‹´ë‹¹ ê³¼ëª©:</strong> ì˜¤í”ˆì†ŒìŠ¤ì†Œí”„íŠ¸ì›¨ì–´ì‹¤ìŠµ</p>
      </section>

      <!-- êµìˆ˜ë‹˜ ë¯¸ì…˜ ë£°ë › -->
      <section class="section">
        <h2>ğŸ¯ ì˜¤ëŠ˜ì˜ êµìˆ˜ë‹˜ ë¯¸ì…˜ ë£°ë ›</h2>
        <div class="roulette-wrap">
          <div class="arrow">â–¼</div>
          <canvas id="roulette" width="300" height="300"></canvas>
          <div class="roulette-buttons">
            <button onclick="spinRoulette()" class="spin-button">
              ğŸ² ë¯¸ì…˜ ë½‘ê¸°
            </button>
          </div>
          <p id="mission-result" class="result-text"></p>
        </div>
      </section>

      <style>
        .roulette-wrap {
          text-align: center;
          margin: 2rem auto;
          position: relative;
        }
        .spin-button {
          margin-top: 1rem;
          padding: 0.5rem 1.5rem;
          font-size: 1rem;
          border-radius: 10px;
          border: none;
          background: white;
          color: black;
          cursor: pointer;
        }
        .roulette-buttons {
          margin-top: 1rem;
        }
        .result-text {
          font-weight: bold;
          margin-top: 1rem;
        }
        .arrow {
          position: absolute;
          top: -25px;
          left: 50%;
          transform: translateX(-50%);
          font-size: 24px;
          color: white;
        }
        .cheer-box {
          background-color: #ffffff10;
          padding: 1rem;
          border-radius: 12px;
          margin-top: 1.5rem;
          color: #fff;
          font-weight: bold;
          text-align: center;
          font-size: 1.2rem;
        }
        .cheer-section {
          text-align: center;
          margin-top: 2rem;
        }
        .cheer-section button {
          padding: 0.5rem 1.5rem;
          font-size: 1rem;
          border-radius: 10px;
          border: none;
          background: white;
          color: black;
          cursor: pointer;
        }
      </style>

      <script>
        const missions = [
          "â˜• ì»¤í”¼ íƒ€ì„",
          "ğŸ“ ì¸ì‚¬ ë‚˜ëˆ„ê¸°",
          "ğŸ“¢ ë°•ìˆ˜ ë³´ë‚´ê¸°",
          "ğŸŒ¿ ì‚°ì±… ì¶”ì²œ",
        ];
        const colors = ["#f7c59f", "#92b4ec", "#ffafcc", "#a8dadc"];
        const canvas = document.getElementById("roulette");
        const ctx = canvas.getContext("2d");

        let angle = 0;

        function drawRoulette() {
          const size = missions.length;
          const anglePerItem = (2 * Math.PI) / size;
          for (let i = 0; i < size; i++) {
            ctx.beginPath();
            ctx.moveTo(150, 150);
            ctx.fillStyle = colors[i];
            ctx.arc(
              150,
              150,
              140,
              anglePerItem * i + angle,
              anglePerItem * (i + 1) + angle
            );
            ctx.fill();
            ctx.save();
            ctx.translate(150, 150);
            ctx.rotate(anglePerItem * (i + 0.5) + angle);
            ctx.textAlign = "right";
            ctx.fillStyle = "#333";
            ctx.font = "14px sans-serif";
            ctx.fillText(missions[i], 130, 5);
            ctx.restore();
          }
        }

        function spinRoulette() {
          let spinSpeed = Math.random() * 30 + 30;
          let deceleration = 0.98;

          function animate() {
            spinSpeed *= deceleration;
            angle += spinSpeed * 0.01;
            ctx.clearRect(0, 0, 300, 300);
            drawRoulette();

            if (spinSpeed > 0.1) {
              requestAnimationFrame(animate);
            } else {
              const correctedAngle = angle % (2 * Math.PI);
              const pointerAngle =
                ((3 * Math.PI) / 2 - correctedAngle + 2 * Math.PI) %
                (2 * Math.PI);
              const selectedIndex = Math.floor(
                pointerAngle / ((2 * Math.PI) / missions.length)
              );
              const selected = missions[selectedIndex];
              document.getElementById(
                "mission-result"
              ).innerText = `ğŸ‰ ì˜¤ëŠ˜ì˜ ë¯¸ì…˜: ${selected}`;
            }
          }

          animate();
        }

        drawRoulette();
      </script>

      <!-- ì‘ì› ë©”ì‹œì§€ ë¶€ë¶„ -->
      <section class="section cheer-section">
        <h2>ğŸ’Œ í•™ìƒë“¤ì˜ ì‘ì› ë©”ì‹œì§€</h2>
        <button onclick="showCheer()">ğŸš€ ì‘ì› ë°›ê¸°</button>
        <div id="cheer-box" class="cheer-box" style="display: none"></div>
      </section>

      <script>
        const cheers = [
          "ì˜¤ëŠ˜ë„ êµìˆ˜ë‹˜ì˜ ê°•ì˜ëŠ” ëª…ê°•ì˜ì…ë‹ˆë‹¤! ğŸ‘",
          "êµìˆ˜ë‹˜ ë•ë¶„ì— ì˜¤í”ˆì†ŒìŠ¤ê°€ ì¦ê±°ì›Œì¡Œì–´ìš” ğŸ˜Š",
          "í•™ìƒë“¤ì€ ì–¸ì œë‚˜ ì´ê¸¸ì„­ êµìˆ˜ë‹˜ì„ ì‘ì›í•˜ê³  ìˆì–´ìš” ğŸ’ª",
          "êµìˆ˜ë‹˜, ì •ë§ ë©‹ì§€ì‹­ë‹ˆë‹¤! ğŸŒŸ",
        ];

        function showCheer() {
          const random = cheers[Math.floor(Math.random() * cheers.length)];
          const cheerBox = document.getElementById("cheer-box");
          cheerBox.innerText = random;
          cheerBox.style.display = "block";
          cheerBox.scrollIntoView({ behavior: "smooth" });
        }
      </script>

      <div class="section" style="text-align: center">
        <a href="{{ url_for('home') }}">ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
      </div>
    </main>
  </body>
</html>
